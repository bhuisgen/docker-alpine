version: '3.5'

volumes:
    opendkim:

services:
    opendkim:
        image: bhuisgen/alpine-opendkim
        ports:
            - "8891:8891"
        volumes:
            - /etc/localtime:/etc/localtime:ro
            - /dev/log:/dev/log
            - opendkim:/var/lib/opendkim            # volume for data
        environment:
            - ENV=local                             # environment name
            #- VAULT_ADDR=                          # vault address
            #- VAULT_TLS=1                          # enable TLS
            #- VAULT_TOKEN=                         # vault token
            #- VAULT_SECRET=local/opendkim/         # secret path
            #- CONSUL_ADDR=                         # consul address
            #- CONSUL_KEYPREFIX=local/opendkim/     # consul key prefix path
            #- CONSUL_SERVICENAME=opendkim          # consul service name
            #- CONSUL_SERVICETAGS=local             # consul service tag
            #- CONSUL_SERVICEPORT=8891              # consul service port
            #- CONSUL_CHECKTYPE=tcp                 # consul health check type
            #- OPENDKIM_TEMPLATE=generic            # configuration template

            #
            # template generic
            #

            #- OPENDKIM_KEYTABLE=                   # opendkim key table file of signing keys
            #- OPENDKIM_SIGNINGTABLE=               # opendkim table file for selecting signatures
            #- OPENDKIM_EXTERNALIGNORELIST=         # opendkim ignore list file
            #- OPENDKIM_INTERNALHOSTS=              # opendkim internal hosts file
